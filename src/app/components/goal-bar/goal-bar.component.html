<div class="card border-0 mb-4 shadow">
    <div class="card-body">

        <div class="row align-items-center mb-3">
            <div class="col col-md-8">

                <div class="progress" style="height: 25px;">
                    <div
                        class="progress-bar"
                        [class.bg-success]="goal.isDone"
                        role="progressbar"
                        aria-label="Basic example"
                        [attr.style]="'width:' + helpers.calculatePercentage(currentPatrimonyAmount, goal.amount) + '%'"
                        [attr.aria-valuenow]="helpers.calculatePercentage(currentPatrimonyAmount, goal.amount)"
                        aria-valuemin="0"
                        aria-valuemax="100">{{ currentPercentAmount }}%</div>
                </div>
            </div>
            <div class="col text-end">
                <h4><span class="text-muted">Meta: </span> <strong>{{ goal.amount | currency : 'BRL' }}</strong> <i (click)="markAsDone(goal)" [ngClass]="goal.isDone ? 'text-success' : 'text-muted text-muted-2'" class="fas fa-check-circle ms-3 cursor-pointer"></i></h4>
            </div>
        </div>

        <div class="mb-3">
            <h4>{{ goal.title }}</h4>
            <p class="text-muted">{{ goal.description }}</p>
        </div>

        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Data do Objetivo</th>
                    <th>Valor Ã  acumular</th>
                    <th>Objetivo Mensal</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ goal.dueDate | date : 'dd/MM/yyyy' }} - <span class="text-muted">{{ calculateDiffDatesFromToday(goal.dueDate) }} meses</span></td>
                    <td>{{ calculateMoneyToGoal(goal.amount, currentAmount) | currency : 'BRL' }} - <span class="text-muted">{{ calculatePercentToGoal(currentPercentAmount) }}%</span></td>
                    <td>{{ calculateMonthlyAmountToGoal(calculateMoneyToGoal(goal.amount, currentAmount), calculateDiffDatesFromToday(goal.dueDate)) | currency : 'BRL' }}</td>
                </tr>
            </tbody>
        </table>

    </div>
</div>